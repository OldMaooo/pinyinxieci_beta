# 看拼音写词 - 数据并表与导入规范 (v1.1)

本规范用于指导“词语表”与“写字表（生字表）”的数据合并，确保听写练习的科学性和语境化。

## 1. 单元匹配原则 (严格模式)
- **物理隔离**：词语表和写字表必须按物理单元号严格对应。
- **强制新建**：如果写字表中出现的单元号在词语表中不存在，**必须新建**该单元，严禁将生字合入邻近或逻辑单元。
- **顺序敏感**：合并后的列表必须保持教材原始顺序（单元 -> 语文园地 -> 下一单元）。

## 2. 语文园地处理
- **去合并化**：禁止将全书的所有“语文园地”合并为一个条目。
- **序列化命名**：按照其在教材中出现的先后顺序，依次命名为 `语文园地1`、`语文园地2`... 以此类推，确保物理位置独立。

## 3. 生字语境化 (核心规则)
- **拒绝单字**：写字表中的单个生字严禁直接转为拼音，必须根据教材语境或常用词库组成 **2-4字的词组**。
- **智能去重**：
  - 如果生字 `X` 已经包含在词语表的某个词组 `XY` 中，则忽略该生字，不重复生成。
  - 如果生字 `X` 未出现过，则使用 `charToWordMap` 补全为词组。

## 4. 视觉展示约束 (线上半自动版)
- **高密度排版**：单元名与词组流同行显示，单元间使用通栏分割线。
- **掌握度透视**：
  - 🔴 **弱项**：最近三次终测历史中有错 -> 红色文字 + 红色下划线。
  - 🟢 **掌握**：最近三次全对 -> 翡翠绿文字 + 翡翠绿下划线。
  - ⚪ **新词**：无练习记录 -> 默认黑色/灰色。
